Cheatcodes for PorteuX
=======================================

Cheatcodes are boot parameters unique to PorteuX that are used to
affect the boot process. You can use these parameters to disable
or modify specific features, start PorteuX from a specific location,
load additional modules, etc.

To add one or more cheatcodes during boot time, reboot your computer
and wait until the PorteuX logo appears, then press Escape, choose
your desired menu entry and press Tab to edit the command line. Add
your desired cheatcode from the list down below.

If you want to save a cheatcode so it loads automatically each time
you boot PorteuX, you can edit one of the porteux.cfg files. For
cheatcodes related to the boot profile (Graphics Mode, Always Fresh,
etc), like 'changes=', edit '/boot/syslinux/porteux.cfg' and add
them at the end of the APPEND line. For cheatcodes that will apply
to all boot profiles, edit '/porteux/porteux.cfg'.

Here's an example of what the boot line looks like, adding the
'noauto' and 'volume=30' cheatcodes to a standard PorteuX boot option
(which already has other cheatcodes by default):

APPEND changes=EXIT:/porteux noauto volume=30

NOTE: if a given cheatcode is found in both '/boot/syslinux/porteux.cfg'
and '/porteux/porteux.cfg', only the latter will be used.

NOTE: example cheatcodes are sometimes listed down below in single
quotes (e.g. 'example=somevalue') for clarity in the documentation.
When entering these cheatcodes, do not include the quote marks.

NOTE: if you're looking for generic boot parameters that apply to all
Linux distros, you can find more information by visiting:
https://docs.kernel.org/admin-guide/kernel-parameters.html

---------------------------------------

List of available cheatcodes in alphabetical order:

base_only

   ... This cheatcode will prevent the system from loading any
       modules at startup other than the 'base' modules included
       with the default ISO (000-kernel.xzm, 001-core.xzm, etc).
       This is useful in debugging to see if problems you are
       having are associated with a module you've added to the
       system.

cfgfile=some_name.cfg

   ... This cheatcode specifies the configuration file that PorteuX
       will search for. This is useful when you want to store several
       PorteuX editions on the same boot media.

       Example:
       cfgfile=porteux-usb.cfg

changes=/dev/device
changes=/path/
changes=/path/file.dat

   ... With this boot parameter, you tell PorteuX to use a device
       (or a file or directory) other than your memory for storing
       changes. You can, for example, format your media partition
       /dev/sdb2 with some Linux filesystem (eg. ext4) and then
       use 'changes=/dev/sdb2' to store all changes to that partition.
       This way you won't lose your changes after reboot.
       
       If you use a file image instead of a device, and the image
       contains a valid filesystem, PorteuX will mount it on a loop
       device and will store changes to it.
       
       If you use a directory, PorteuX will save changes to it (it
       will make a 'changes' subdirectory there). This should only
       be used for linux filesystems, if changes need to be saved
       to a FAT or NTFS partition, a savefile container has to be used.
       
       It's not recommended to use this option if the path points
       to a slow device, such as a USB stick. In this case, use
       this cheatcode in conjunction with 'EXIT:', as described below.

changes=EXIT:/dev/device
changes=EXIT:/path/
changes=EXIT:/path/file.dat

   ... Same as above, but all changes made in PorteuX are kept in
       memory until you reboot/shutdown. Your RAM works as a buffer
       which gets dumped into the specified path only when the
       session is finished.
       
       It works as fast as 'Always Fresh' mode as all modifications
       to files and folders are performed in RAM.
       
       It reduces the number of read/write cycles, which should
       extend the lifespan of the storage device.
       
       The only disadvantage is that the session is not saved if
       you experience a freeze or power interrupt.

       NOTE: this is the default option.
       NOTE: while running a session with changes=EXIT: you can
       use the '/opt/porteux-scripts/dump-session' command to
       move all of your changes from RAM to your storage media,
       reducing the risk of data loss and freeing up your RAM.

changes-ro

   ... Keep saved changes in a read-only state. This is useful
       when you have your system set up exactly how you like it
       and do not want to save any other changes you might make
       during a live session. This cheatcode should be used in
       conjunction with the 'changes=' or 'changes=EXIT:' cheatcodes.

       NOTE: remove the 'changes-ro' cheatcode from the bootloader
       config to start saving changes as normal (effective after
       a reboot).

       Example:
       changes=/path/file.dat changes-ro

cliexec=my_script
cliexec=my_script;reboot

   ... Execute the specified command(s) in runlevel 3 (before
       logging in to a graphical interface).
       
       Use semicolons (;) as command separators with no spaces. If
       you need to add spaces in the command line, replace them
       with '~'.
       
       NOTE: to start graphical applications please use 'guiexec='
       cheatcode instead.
       
       Example (to echo your text with spaces instead of '~'):
       cliexec=echo~Shutting~power;poweroff

copy2ram

   ... Copy all modules to RAM. You'll need at least 1.5 GB of RAM
       to boot PorteuX properly. Copy2ram slows down the boot phase
       a bit but speeds up the PorteuX experience.

       NOTE: You can use 'rammod' cheatcode to selectively load
       modules to RAM - see the 'rammod' description below.

delay=some_value

   ... To be used for devices which need extra time to settle.
       
       Example (to delay 5 seconds before PorteuX starts the boot
       process):
       delay=5.

extramod=/path/folder_with_modules
extramod=/path/folder_with_modules;/path2/folder_with_modules

   ... This cheatcode lets you load modules from one or more
       external folders located outside the /porteux directory.
       Multiple folders can be specified, with full paths separated
       by a semicolon without any spaces.

       Examples:
       extramod=/mnt/sdb3/porteux-modules
       extramod=/mnt/sdb3/porteux-modules;/mnt/sdc4/inkscape_modules

from=/mnt/partition
from=/path/folder
from=/path/porteux.iso

   ... Load PorteuX from the specified partition, folder or ISO file.

       NOTE: if a destination partition is not provided with this
       cheatcode, the booting script will search through all
       available devices for your data.

       Example (to load unpacked PorteuX ISO from the second
       partition on your second drive):
       from=/mnt/sdb2
       Example (to load unpacked ISO from the 'linux-testing' folder
       placed on the second partition):
       from=/mnt/sda2/linux-testing
       Example (to load the PorteuX data from 'porteux-test.iso'):
       from=/mnt/sda1/porteux-test.iso

fsck

   ... Enable a filesystem check for ext(2,3,4), FAT and NTFS
       partitions during boot time before anything is mounted.
       XFS does not need fsck as a check is performed automatically
       when it's mounted. A log file will be shown after boot.

       NOTE: on some systems, you will need to use the 'delay='
       cheatcode in order to allow your devices to settle.

fscknolog

   ... Same as above but the log file won't be shown after boot.

guiexec=my_script
guiexec=firefox;pidgin

   ... Execute specified command(s) in runlevel 4, when the graphical
       interface is loaded; unlike 'cliexec' this cheatcode can be
       used to start graphical applications.
       
       Use semicolons (;) as command separators with no spaces. If
       you need to use spaces in the command line, replace them
       with '~'.
       
       Example (to open the Firefox browser on the 'kernel.org'
       website):
       guiexec=firefox~kernel.org

kmap=keyboardmap
kmap=keyboardmap1,keyboardmap2,keyboardmap3
kmap=keyboardmap:variant

   ... Specify the preferred keyboard layout for Xorg sessions.
       A full list of supported layouts can be found in the
       /etc/X11/xkb/symbols folder. To view the current layout,
       run 'setxkbmap -query'.

       Up to 3 layouts are supported. Keyboard layout variants are
       also supported.

       NOTE: it may not work in some Wayland sessions.
       NOTE: changing the keyboard layout using the desktop environment
       settings may override this cheatcode.

       Example (to set American keyboard layout with accent support):
       kmap=us:alt-intl
       Example (to set Arabic keyboard layout as default with
       possibility of switching to 'us'):
       kmap=ara,us
       Example (to set Polish keyboard layout with 'qwertz' as a variant):
       kmap=pl:qwertz

load=module
load=module1;module2

   ... Load optional modules from /optional directory on the boot media
       that contain the strings specified. Additional modules can be
       listed, separated by semicolons without spaces.

       Example:
       load=gimp;inkscape;firefox

login=user_name

   ... Allow you specify the the user (could also be 'root') who will be
       autologged into the desktop environment session. If a username is
       not provided or doesn't exist, then booting stops on the login
       manager screen.

       Example:
       login=myUsername

mopt

   ... This cheatcode will allow you to customize your filesystem
       mount options. By default, the mount options for all
       filesystems in PorteuX are: 'noatime,nodiratime,suid,dev,exec,async'.
       Each option must be separated by commas (',') with no spaces
       between any characters.

       Example:
       mopt=realtime,sync,users,nosuid,noexec

noauto

   ... Do not mount any devices during startup. Every device must be
       mounted manually in order to access it.

nobluetooth

   ... Do not enable the Bluetooth daemon at boot. If you want to manually
       enable it after boot, run the following as root:

       sh /etc/rc.d/rc.bluetooth start

nocd

   ... Do not discover any optical devices during startup.

nohd

   ... Do not discover any hard drives during startup.

nohotplug

   ... Disable specified hardware autodetection in case of hangups.
       None of your hardware will be detected, and you'll have to use
       the 'modprobe' command after logging in to text mode and load
       all needed drivers manually.

noload=module
noload=module1;module2

   ... Disable loading of any modules with a name containing the text
       specified. This affects all the modules on the PorteuX booting
       media, including /base and /modules folders, so using noload=kde
       will disable loading of all modules with 'kde' in the name. It's
       useful with the copy2ram cheatcode, because any unused module is
       not copied to RAM. Multiple modules can be listed, but they must
       be separated by semicolons, with no spaces.

       Example:
       noload=lxde;devel

nologin

   ... Do not auto login after the desktop environment is loaded.

nonetwork

   ... This boot parameter will prevent PorteuX from automatically
       establishing a network connection on startup.

       Note that this cheatcode makes system modifications that must
       be manually restored, so it is recommended that you only use
       this cheatcode in 'Always Fresh' mode. If you've ignored this
       advice and need to recover your network connection, please run
       the following as root:

       chmod +x /etc/rc.d/rc.inet1 /etc/rc.d/rc.networkmanager
       sed -i 's/Hidden=true//g' /etc/xdg/autostart/nm-applet.desktop

norootcopy

   ... Do not copy files from your rootcopy directory at boot-up.
       Useful if something has gone wrong with your PorteuX configuration
       and you want to boot without loading any file from rootcopy.

noswap

   ... Prevents the automatic use of an existing swap partition.
       By default, PorteuX searches your attached drives for
       partitions that are formatted as swap, and will mount them
       for use within PorteuX. This 'noswap' cheatcode disables
       this behavior.

noupdateclock

   ... Prevent the automatic update of the hardware clock during
       boot time. By default, PorteuX updates the hardware clock
       from the internet during boot time if a timezone is specified.
       This 'noupdateclock' cheatcode disables this behavior.

ramsize=some_value%

   ... Let you set a custom size for the tmpfs partition which is
       used as the root (/) of your live filesystem when changes are
       not saved on a real filesystem (i.e., Always Fresh mode).
       The default value is 85% of available RAM memory.

       Example:
       ramsize=50%

rammod=module
rammod=folder
rammod=module1;module2;folder1;folder2

   ... Specify module(s) or folder(s) containing modules which should
       be copied to RAM when using the 'copy2ram' cheatcode. This
       allows you to have the speed benefit of 'copy2ram' for the
       modules you use the most, without occupying your RAM with those
       modules that you make use of less often. Any modules that are
       not specified will be mounted in place on the block device, so
       your device will remain mounted while PorteuX is running.

       You can use full or partial names for your search string,
       but keep in mind that all modules and folders that match your
       string will be loaded into RAM; if you have extra modules in a
       folder named 'lxde' and you use 'rammod=lxde', then the module
       003-lxde.xzm from /porteux/base will be loaded as well as in the
       'lxde' folder.

       NOTE: 'rammod' cannot be used without 'copy2ram', and it also
       will not load modules from /porteux/optional or external
       locations unless you also specify these modules with the
       'load=' or 'extramod=' cheatcodes.

       Examples:
       rammod=001;002;004;firefox
       extramod=/mnt/sdb3/porteux/gimp rammod=001;002;gimp

rootcopy=/path/to_folder/with_files

   ... Copy files from the specified directory directly to the live
       filesystem. This directory will be used instead of the
       traditional /porteux/rootcopy.

       Example:
       rootcopy=/mnt/sda5/porteux-files

rootmount

   ... Instead of copying files from rootcopy, it mounts them.
       The advantages are faster boot and less RAM. It's only
       supported on POSIX filesystems and when copy2ram is disabled.

timezone=region/zone

   ... Set your location timezone.

       A full listing of available timezones can be found in 
       /usr/share/zoneinfo/

       Examples:
       timezone=Europe/Warsaw
       timezone=Factory

utc

   ... Tell PorteuX that your hardware clock is set to UTC time and
       not to local time. Most computers that have Windows installed
       use local time instead of UTC time, but many UNIX machines use
       UTC instead. This cheatcode is normally used together with
       the 'timezone' cheatcode.

vga_detect

   ... Automatically detects NVIDIA video cards and loads the
       proprietary driver at startup. You must have a module
       containing the appropriate graphics driver stored in your
       /porteux/optional/ directory. The driver module is available in
       the PorteuX App Store. If you want to compile your own driver,
       please note that the module's name must contain nvidia-[number],
       where [number] is the number of the driver version. For example:
       08-nvidia-560.35.03-k.6.11.4-porteux-x86_64.xzm.

volume=some_value

   ... This parameter sets the system's master sound volume to the
       value specified (as a percentage). You will be able to raise
       or lower the volume after you boot up as normal.

       Example:
       volume=10

zram=some_value%

   ... Enable the use of zram, which is a compressed block device
       inside your RAM that acts as a swap partition. Zram operates
       faster than using swap on a hard drive and creates more
       (virtual) memory than using RAM alone because the data inside
       is compressed. This will provide a performance boost on
       systems with low RAM, but it uses more processor cycles (to
       compress and decompress the data) than regular swap. The value
       specified is the percentage of your system total RAM.

       Example:
       zram=33%


SPECIAL NOTE FOR USING CHEATCODES WITH 'LABEL' AND 'UUID':
If you specify a LABEL or UUID with a cheatcode, remember that all
portions of these commands are case-sensitive. You should use a
unique label for each of your partitions if you wish to use device
labels with your cheatcodes. Use the 'blkid' command to view your
device's UUID and LABEL. Using UUID and LABEL can be quite handy
because they are unique to your device and ensure your data is found
and properly mapped across different hardware configurations.
Every cheatcode that contains a /path can take advantage of 'UUID:'
and 'LABEL:' extensions.

Examples:
changes=UUID:STrING-0F-ChARACtERS/path/file.dat
extramod=LABEL:YourLabelName/path/to_folder/with_modules
from=UUID:STrING-0F-ChARACtERS/path/folder
rootcopy=LABEL:YourLabelName/path/to_folder/with_files